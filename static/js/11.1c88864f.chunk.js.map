{"version":3,"sources":["constants/MAP.js","components/Status.js","data/locations/index.js","hooks/useDataInterval.js","components/MapboxReactMapGl.js"],"names":["DATA_INTERVAL","MAX_LOCATION_INDEX","Status","milliseconds","className","MAP","getLocations","index","a","data","useDataInterval","callback","delay","currentIndex","useRef","savedCallback","id","useEffect","current","isComplete","clearInterval","console","log","values","default","setInterval","MapboxReactMapGl","startTime","useState","locations","setLocations","mapRef","loadTime","setLoadTime","Date","getMap","setStyle","ref","width","height","longitude","latitude","zoom","mapboxApiAccessToken","map","location","key"],"mappings":"oIAAe,KACbA,cAAe,IACfC,mBAAoB,K,gCCFtB,kCAceC,IAVf,YAAmC,IAAjBC,EAAgB,EAAhBA,aAChB,OACE,yBAAKC,UAAU,UACZD,EAAY,iBAC0B,IAAzBE,IAAIJ,mBADL,oBAC0CE,EAAe,IADzD,8BAE2B,IAAzBE,IAAIJ,mBAFN,c,0GCPJK,E,8EAAf,WAA4BC,GAA5B,eAAAC,EAAA,sDACMC,EAAO,GADb,KAEUF,EAFV,OAGS,IAHT,OAMS,IANT,OASS,IATT,QAYS,IAZT,QAeS,IAfT,QAkBS,IAlBT,QAqBS,IArBT,QAwBS,IAxBT,QA2BS,IA3BT,QA8BS,IA9BT,QAiCS,KAjCT,QAoCS,KApCT,QAuCS,KAvCT,QA0CS,KA1CT,QA6CS,KA7CT,QAgDS,KAhDT,QAmDS,KAnDT,QAsDS,KAtDT,QAyDS,KAzDT,QA4DS,KA5DT,QA+DS,KA/DT,QAkES,KAlET,QAqES,KArET,QAwES,KAxET,QA2ES,KA3ET,SA8ES,KA9ET,SAiFS,KAjFT,SAoFS,KApFT,SAuFS,KAvFT,SA0FS,KA1FT,SA6FS,KA7FT,SAgGS,KAhGT,SAmGS,KAnGT,SAsGS,KAtGT,SAyGS,KAzGT,SA4GS,KA5GT,SA+GS,KA/GT,SAkHS,KAlHT,SAqHS,KArHT,SAwHS,KAxHT,SA2HS,KA3HT,SA8HS,KA9HT,SAiIS,KAjIT,SAoIS,KApIT,SAuIS,KAvIT,SA0IS,KA1IT,SA6IS,KA7IT,SAgJS,KAhJT,SAmJS,KAnJT,SAsJS,KAtJT,SAyJS,KAzJT,SA4JS,KA5JT,SA+JS,KA/JT,SAkKS,KAlKT,SAqKS,KArKT,SAwKS,KAxKT,SA2KS,KA3KT,SA8KS,KA9KT,SAiLS,KAjLT,SAoLS,KApLT,0CAImB,8BAJnB,cAIME,EAJN,qDAOmB,8BAPnB,eAOMA,EAPN,sDAUmB,8BAVnB,eAUMA,EAVN,sDAamB,8BAbnB,eAaMA,EAbN,sDAgBmB,8BAhBnB,eAgBMA,EAhBN,sDAmBmB,8BAnBnB,eAmBMA,EAnBN,sDAsBmB,8BAtBnB,eAsBMA,EAtBN,sDAyBmB,8BAzBnB,eAyBMA,EAzBN,sDA4BmB,8BA5BnB,eA4BMA,EA5BN,sDA+BmB,8BA/BnB,eA+BMA,EA/BN,sDAkCmB,8BAlCnB,eAkCMA,EAlCN,sDAqCmB,8BArCnB,eAqCMA,EArCN,sDAwCmB,8BAxCnB,eAwCMA,EAxCN,sDA2CmB,8BA3CnB,eA2CMA,EA3CN,sDA8CmB,8BA9CnB,eA8CMA,EA9CN,sDAiDmB,8BAjDnB,eAiDMA,EAjDN,sDAoDmB,8BApDnB,eAoDMA,EApDN,sDAuDmB,8BAvDnB,eAuDMA,EAvDN,sDA0DmB,8BA1DnB,eA0DMA,EA1DN,sDA6DmB,8BA7DnB,eA6DMA,EA7DN,sDAgEmB,8BAhEnB,eAgEMA,EAhEN,sDAmEmB,8BAnEnB,eAmEMA,EAnEN,sDAsEmB,8BAtEnB,eAsEMA,EAtEN,sDAyEmB,8BAzEnB,eAyEMA,EAzEN,wDA4EmB,8BA5EnB,gBA4EMA,EA5EN,wDA+EmB,8BA/EnB,gBA+EMA,EA/EN,wDAkFmB,8BAlFnB,gBAkFMA,EAlFN,wDAqFmB,8BArFnB,gBAqFMA,EArFN,wDAwFmB,8BAxFnB,gBAwFMA,EAxFN,wDA2FmB,8BA3FnB,gBA2FMA,EA3FN,wDA8FmB,8BA9FnB,gBA8FMA,EA9FN,wDAiGmB,8BAjGnB,gBAiGMA,EAjGN,wDAoGmB,8BApGnB,gBAoGMA,EApGN,wDAuGmB,8BAvGnB,gBAuGMA,EAvGN,wDA0GmB,8BA1GnB,gBA0GMA,EA1GN,wDA6GmB,+BA7GnB,gBA6GMA,EA7GN,wDAgHmB,+BAhHnB,gBAgHMA,EAhHN,wDAmHmB,+BAnHnB,gBAmHMA,EAnHN,wDAsHmB,+BAtHnB,gBAsHMA,EAtHN,wDAyHmB,+BAzHnB,gBAyHMA,EAzHN,wDA4HmB,+BA5HnB,gBA4HMA,EA5HN,wDA+HmB,+BA/HnB,gBA+HMA,EA/HN,wDAkImB,+BAlInB,gBAkIMA,EAlIN,wDAqImB,+BArInB,gBAqIMA,EArIN,wDAwImB,+BAxInB,gBAwIMA,EAxIN,wDA2ImB,+BA3InB,gBA2IMA,EA3IN,wDA8ImB,+BA9InB,gBA8IMA,EA9IN,wDAiJmB,+BAjJnB,gBAiJMA,EAjJN,wDAoJmB,+BApJnB,gBAoJMA,EApJN,wDAuJmB,+BAvJnB,gBAuJMA,EAvJN,wDA0JmB,+BA1JnB,gBA0JMA,EA1JN,wDA6JmB,+BA7JnB,gBA6JMA,EA7JN,wDAgKmB,+BAhKnB,gBAgKMA,EAhKN,wDAmKmB,+BAnKnB,gBAmKMA,EAnKN,wDAsKmB,+BAtKnB,gBAsKMA,EAtKN,wDAyKmB,+BAzKnB,gBAyKMA,EAzKN,wDA4KmB,+BA5KnB,gBA4KMA,EA5KN,wDA+KmB,+BA/KnB,gBA+KMA,EA/KN,wDAkLmB,+BAlLnB,gBAkLMA,EAlLN,wDAqLmB,+BArLnB,gBAqLMA,EArLN,qGA0LSA,GA1LT,8C,sBCmCeC,IA/Bf,SAAyBC,GAAsC,IAA5BC,EAA2B,uDAAnBP,IAAIL,cACvCa,EAAeC,iBAAO,GACtBC,EAAgBD,mBAChBE,EAAKF,mBAEXG,qBAAU,WACRF,EAAcG,QAAUP,IACvB,CAACA,IAEJM,qBAAU,WAAM,4CACd,8BAAAT,EAAA,6DACMW,GAAa,EACbN,EAAaK,QAAU,IAAMb,IAAIJ,qBACnCkB,GAAa,EACbC,cAAcJ,EAAGE,UAEU,IAAzBL,EAAaK,SACfG,QAAQC,IAAI,uBAEdD,QAAQC,IAAR,4BAAiCT,EAAaK,UAC9CL,EAAaK,SAAW,EAV1B,SAWuBZ,EAAaO,EAAaK,QAAU,GAX3D,OAWQK,EAXR,OAYER,EAAcG,QAAQK,EAAOC,QAASL,GAZxC,4CADc,sBAed,GAAc,OAAVP,EAEF,OADAI,EAAGE,QAAUO,aAhBA,WAAD,iCAgBmBb,GACxB,kBAAMQ,cAAcJ,EAAGE,YAE/B,CAACN,M,wICiBSc,UA1Cf,WACE,IAAMC,EAAYb,mBADQ,EAEQc,mBAAS,IAFjB,mBAEnBC,EAFmB,KAERC,EAFQ,KAGpBC,EAASjB,mBAHW,EAIMc,qBAJN,mBAInBI,EAJmB,KAITC,EAJS,KAyB1B,OAbAhB,qBAAU,WACRU,EAAUT,QAAU,IAAIgB,KACxBH,EAAOb,QAAQiB,SAASC,SAAS,sCAEhC,IAEH1B,aAAgB,SAACa,EAAQJ,GACvBW,EAAa,GAAD,mBAAKD,GAAL,YAAmBN,KAC3BJ,GACFc,EAAY,IAAIC,KAASP,EAAUT,YAKrC,yBAAKd,UAAU,iBACb,kBAAC,IAAD,CAAQD,aAAc6B,IACtB,kBAAC,IAAD,eACEK,IAAKN,EACLO,MAAM,OACNC,OAAO,QAzBI,CACfC,WAAY,GACZC,SAAU,GACVC,KAAM,GAmBJ,CAKEC,qBAAqB,mHACpBd,EAAUe,KAAI,SAACC,GAAD,OACb,kBAAC,IAAD,CAAQC,IAAKD,EAAS7B,GAAIyB,SAAUI,EAASJ,SAAUD,UAAWK,EAASL,UAAWpC,UAAU","file":"static/js/11.1c88864f.chunk.js","sourcesContent":["export default {\n  DATA_INTERVAL: 200,\n  MAX_LOCATION_INDEX: 10, // 1000 records each\n};\n","import React from \"react\";\nimport MAP from \"../constants/MAP\";\nimport \"./Status.css\";\n\nfunction Status({ milliseconds }) {\n  return (\n    <div className=\"status\">\n      {milliseconds\n        ? `Loaded ${MAP.MAX_LOCATION_INDEX * 1000} POI in: ${milliseconds / 1000.0} seconds`\n        : `Loading ${MAP.MAX_LOCATION_INDEX * 1000} POI...`}\n    </div>\n  );\n}\n\nexport default Status;\n","async function getLocations(index) {\n  let data = [];\n  switch (index) {\n    case 0:\n      data = await import(\"./location-0\");\n      break;\n    case 1:\n      data = await import(\"./location-1\");\n      break;\n    case 2:\n      data = await import(\"./location-2\");\n      break;\n    case 3:\n      data = await import(\"./location-3\");\n      break;\n    case 4:\n      data = await import(\"./location-4\");\n      break;\n    case 5:\n      data = await import(\"./location-5\");\n      break;\n    case 6:\n      data = await import(\"./location-6\");\n      break;\n    case 7:\n      data = await import(\"./location-7\");\n      break;\n    case 8:\n      data = await import(\"./location-8\");\n      break;\n    case 9:\n      data = await import(\"./location-9\");\n      break;\n    case 10:\n      data = await import(\"./location-10\");\n      break;\n    case 11:\n      data = await import(\"./location-11\");\n      break;\n    case 12:\n      data = await import(\"./location-12\");\n      break;\n    case 13:\n      data = await import(\"./location-13\");\n      break;\n    case 14:\n      data = await import(\"./location-14\");\n      break;\n    case 15:\n      data = await import(\"./location-15\");\n      break;\n    case 16:\n      data = await import(\"./location-16\");\n      break;\n    case 17:\n      data = await import(\"./location-17\");\n      break;\n    case 18:\n      data = await import(\"./location-18\");\n      break;\n    case 19:\n      data = await import(\"./location-19\");\n      break;\n    case 20:\n      data = await import(\"./location-20\");\n      break;\n    case 21:\n      data = await import(\"./location-21\");\n      break;\n    case 22:\n      data = await import(\"./location-22\");\n      break;\n    case 23:\n      data = await import(\"./location-23\");\n      break;\n    case 24:\n      data = await import(\"./location-24\");\n      break;\n    case 25:\n      data = await import(\"./location-25\");\n      break;\n    case 26:\n      data = await import(\"./location-26\");\n      break;\n    case 27:\n      data = await import(\"./location-27\");\n      break;\n    case 28:\n      data = await import(\"./location-28\");\n      break;\n    case 29:\n      data = await import(\"./location-29\");\n      break;\n    case 30:\n      data = await import(\"./location-30\");\n      break;\n    case 31:\n      data = await import(\"./location-31\");\n      break;\n    case 32:\n      data = await import(\"./location-32\");\n      break;\n    case 33:\n      data = await import(\"./location-33\");\n      break;\n    case 34:\n      data = await import(\"./location-34\");\n      break;\n    case 35:\n      data = await import(\"./location-35\");\n      break;\n    case 36:\n      data = await import(\"./location-36\");\n      break;\n    case 37:\n      data = await import(\"./location-37\");\n      break;\n    case 38:\n      data = await import(\"./location-38\");\n      break;\n    case 39:\n      data = await import(\"./location-39\");\n      break;\n    case 40:\n      data = await import(\"./location-40\");\n      break;\n    case 41:\n      data = await import(\"./location-41\");\n      break;\n    case 42:\n      data = await import(\"./location-42\");\n      break;\n    case 43:\n      data = await import(\"./location-43\");\n      break;\n    case 44:\n      data = await import(\"./location-44\");\n      break;\n    case 45:\n      data = await import(\"./location-45\");\n      break;\n    case 46:\n      data = await import(\"./location-46\");\n      break;\n    case 47:\n      data = await import(\"./location-47\");\n      break;\n    case 48:\n      data = await import(\"./location-48\");\n      break;\n    case 49:\n      data = await import(\"./location-49\");\n      break;\n    case 50:\n      data = await import(\"./location-50\");\n      break;\n    case 51:\n      data = await import(\"./location-51\");\n      break;\n    case 52:\n      data = await import(\"./location-52\");\n      break;\n    case 53:\n      data = await import(\"./location-53\");\n      break;\n    case 54:\n      data = await import(\"./location-54\");\n      break;\n    case 55:\n      data = await import(\"./location-55\");\n      break;\n    case 56:\n      data = await import(\"./location-56\");\n      break;\n    case 57:\n      data = await import(\"./location-57\");\n      break;\n    case 58:\n      data = await import(\"./location-58\");\n      break;\n    case 59:\n      data = await import(\"./location-59\");\n      break;\n    default:\n      break;\n  }\n  return data;\n}\n\nexport { getLocations };\n","import { useEffect, useRef } from \"react\";\nimport MAP from \"../constants/MAP\";\nimport { getLocations } from \"../data/locations\";\n\nfunction useDataInterval(callback, delay = MAP.DATA_INTERVAL) {\n  const currentIndex = useRef(0);\n  const savedCallback = useRef();\n  const id = useRef();\n\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  useEffect(() => {\n    async function tick() {\n      let isComplete = false;\n      if (currentIndex.current + 1 === MAP.MAX_LOCATION_INDEX) {\n        isComplete = true;\n        clearInterval(id.current);\n      }\n      if (currentIndex.current === 0) {\n        console.log(\"-------------------\");\n      }\n      console.log(`Loading data from ${currentIndex.current}`);\n      currentIndex.current += 1;\n      const values = await getLocations(currentIndex.current - 1);\n      savedCallback.current(values.default, isComplete);\n    }\n    if (delay !== null) {\n      id.current = setInterval(tick, delay);\n      return () => clearInterval(id.current);\n    }\n  }, [delay]);\n}\n\nexport default useDataInterval;\n","import \"mapbox-gl/dist/mapbox-gl.css\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport ReactMapGL, { Marker } from \"react-map-gl\";\nimport useDataInterval from \"../hooks/useDataInterval\";\nimport \"./Mapbox.css\";\nimport Status from \"./Status\";\n\nfunction MapboxReactMapGl() {\n  const startTime = useRef();\n  const [locations, setLocations] = useState([]);\n  const mapRef = useRef();\n  const [loadTime, setLoadTime] = useState();\n\n  const position = {\n    longitude: -98,\n    latitude: 35,\n    zoom: 4,\n  };\n\n  useEffect(() => {\n    startTime.current = new Date();\n    mapRef.current.getMap().setStyle(\"mapbox://styles/mapbox/light-v10\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useDataInterval((values, isComplete) => {\n    setLocations([...locations, ...values]);\n    if (isComplete) {\n      setLoadTime(new Date() - startTime.current);\n    }\n  });\n\n  return (\n    <div className=\"map-container\">\n      <Status milliseconds={loadTime} />\n      <ReactMapGL\n        ref={mapRef}\n        width=\"100%\"\n        height=\"100%\"\n        {...position}\n        mapboxApiAccessToken=\"pk.eyJ1IjoiamxpdmluZ3N0b24tb2NlYW5lZXJpbmciLCJhIjoiY2tiaGVuZnkwMDJnMzJ5azBhMWZ0MTFrNyJ9.iP7Tpd6B-2W4MQCfBhIMYA\">\n        {locations.map((location) => (\n          <Marker key={location.id} latitude={location.latitude} longitude={location.longitude} className=\"marker\" />\n        ))}\n      </ReactMapGL>\n    </div>\n  );\n}\n\nexport default MapboxReactMapGl;\n"],"sourceRoot":""}